version: 2

models:
  - name: Question_Performance_Data
    description: "Per-creation-date aggregates with question/title & asker attributes."
    meta:
      owner: Christopher Lewis
      domain: stack_overflow
      layer: semantic
      maturity: high

    columns:
      - name: creation_dt
        description: "DATE the question was created (from Dimensions_Date)."
        tests: [not_null]

      - name: question_title
        description: "Title of the question (from Dimensions_Questions)."

      - name: asker_country
        description: "Country guess of the asker, if available."

      - name: asker_reputation
        description: "Askerâ€™s reputation (from Dimensions_Users)."
        tests:
          - dbt_utils.expression_is_true:
              arguments:
                expression: ">= 0"

      - name: last_activity_dt
        description: "DATE of last activity on the question (from Dimensions_Date)."

      - name: sum_of_answer_count
        description: "Sum of answer_count grouped by creation_dt + attributes."
        tests:
          - dbt_utils.expression_is_true:
              arguments:
                expression: ">= 0"

      - name: sum_of_view_count
        description: "Sum of view_count grouped by creation_dt + attributes."
        tests:
          - dbt_utils.expression_is_true:
              arguments:
                expression: ">= 0"

      - name: sum_of_favorite_count
        description: "Sum of favorite_count grouped by creation_dt + attributes."
        tests:
          - dbt_utils.expression_is_true:
              arguments:
                expression: ">= 0"

      - name: comment_count_summed
        description: "Sum of comment_count grouped by creation_dt + attributes."
        tests:
          - dbt_utils.expression_is_true:
              arguments:
                expression: ">= 0"